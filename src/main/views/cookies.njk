{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}

{% extends "template.njk" %}

{% block pageTitle %}Cookies - PRE Portal{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <div class="cookie-settings__confirmation" data-cookie-confirmation="true">

        <div class="govuk-notification-banner govuk-notification-banner--success govuk-!-margin-bottom-0" role="alert" tabindex="-1" aria-labelledby="govuk-notification-banner-title-d32abcfb" data-module="initial-focus" data-initial-focus-module-started="true">
          <div class="govuk-notification-banner__header">
            <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title-d32abcfb">Success</h2>
          </div>
          <div class="govuk-notification-banner__content">
            <h3 class="govuk-notification-banner__heading">Your cookie settings were saved</h3>
            <p class="govuk-body">Government services may set additional cookies and, if so, will have their own cookie policy and banner.</p>
            <a class="govuk-link govuk-notification-banner__link cookie-settings__prev-page" href="/" data-module="gem-track-click" data-track-category="cookieSettings" data-track-action="Back to previous page" data-gem-track-click-module-started="true" style="display: inline;">Go to homepage</a>
          </div>
        </div>
      </div>

      <div class="govuk-!-margin-top-8 govuk-!-margin-bottom-8">

        <h1 class="govuk-heading-xl">
          Cookies
        </h1>
      </div>

      <p class="govuk-body">
        <a href="/" class="govuk-link">Pre Recorded Evidence Service</a> puts
        small files (known as ‘cookies’) on your computer.
      </p>
      <p class="govuk-body">
        These cookies are used across the Pre Recorded Evidence Service
        website.
      </p>
      <p class="govuk-body">
        We only set cookies when JavaScript is running in your browser and
        you’ve accepted them. If you choose not to run Javascript, the
        information on this page will not apply to you.
      </p>
      <p class="govuk-body">
        Find out
        <a
          href="https://ico.org.uk/for-the-public/online/cookies"
          class="govuk-link"
          >how to manage cookies</a
        >
        from the Information Commissioner's Office.
      </p>
      <h2 class="govuk-heading-l govuk-!-margin-top-6">
        Essential cookies (strictly necessary)
      </h2>
      <p class="govuk-body">
        We use some essential cookie to remember when you accept or reject
        cookies on our website.
      </p>
      <table class="govuk-table">
        <caption class="govuk-table__caption">
          Essential cookies we use
        </caption>
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header">Name</th>
            <th scope="col" class="govuk-table__header">Purpose</th>
            <th scope="col" class="govuk-table__header">Expires</th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">__session</th>
            <td class="govuk-table__cell">This tracks that you are logged into the system and contains your user profile for the PRE Portal.</td>
            <td class="govuk-table__cell">1 day</td>
          </tr>
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">analyticsCookies</th>
            <td class="govuk-table__cell">This tracks if you have accepted the tracking of non-essential cookies or not.</td>
            <td class="govuk-table__cell">1 year</td>
          </tr>
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">hideCookiesBanner</th>
            <td class="govuk-table__cell">This tracks if you want to hide the cookie information banner or not.</td>
            <td class="govuk-table__cell">1 year</td>
          </tr>
        </tbody>
      </table>

      <h2 class="govuk-heading-l govuk-!-margin-top-6">
        Additional, optional cookies
      </h2>
      <p class="govuk-body">
        We use some additional cookies to track your usage of our service to help improve it.
      </p>
      <table class="govuk-table">
        <caption class="govuk-table__caption">
          Additional, optional cookies we use
        </caption>
        <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header">Name</th>
          <th scope="col" class="govuk-table__header">Purpose</th>
          <th scope="col" class="govuk-table__header">Expires</th>
        </tr>
        </thead>
        <tbody class="govuk-table__body">
        <tr class="govuk-table__row">
          <th scope="row" class="govuk-table__header">
            dtCookie<br />
            dtPC<br />
            dtSa<br />
            rxVisitor<br />
            rxtv<br />
          </th>
          <td class="govuk-table__cell">Please see the <a href="https://docs.dynatrace.com/docs/manage/data-privacy-and-security/data-privacy/cookies#dynatrace-rum-cookies" target="_blank">Dynatrace website</a> for up-to-date information on the usage of each of these cookies.</td>
          <td class="govuk-table__cell">Please see the <a href="https://docs.dynatrace.com/docs/manage/data-privacy-and-security/data-privacy/cookies#dynatrace-rum-cookies" target="_blank">Dynatrace website</a> for up-to-date information on the expiry of these cookies.</td>
        </tr>
        </tbody>
      </table>

      <form class="cookie-preferences-form js-show">
        {{ govukRadios({
          classes: 'govuk-radios',
          idPrefix: 'apm',
          name: 'apm',
          fieldset: {
            legend: {
              text: "Allow cookies that measure website application performance monitoring?",
              classes: "govuk-fieldset__legend--s"
            }
          },
          items: [
            {
              value: 'on',
              text: 'Use cookies that measure website application performance monitoring'
            },
            {
              value: 'off',
              text: 'Do not use cookies that measure website application performance monitoring',
              checked: true
            }
          ]
        }) }}
        {{ govukButton({
          text: 'Save'
        }) }}
      </form>
    </div>
  </div>
{% endblock %}
