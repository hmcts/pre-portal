{% extends "govuk/template.njk" %}
{% from "govuk/components/footer/macro.njk" import govukFooter %}
{% from "govuk/components/header/macro.njk" import govukHeader %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/cookie-banner/macro.njk" import govukCookieBanner %}
{% from "govuk/components/skip-link/macro.njk" import govukSkipLink %}


{% block head %}
  {% include "webpack/css.njk" %}
{% endblock %}

{% block header %}
  {{ govukHeader({
    homepageUrl: "/",
    useTudorCrown: true,
    serviceName: "HMCTS Pre-Recorded Evidence Service",
    serviceUrl: "/"
  }) }}
{% endblock %}

{% block bodyStart %}
{% set html %}
  <p class="govuk-body">We use some essential cookies to make this service work.</p>
  <p class="govuk-body">We’d also like to use analytics cookies so we can understand how you use the service and make improvements.</p>
{% endset %}
{% set acceptHtml %}
  <p class="govuk-body">You’ve accepted analytics cookies. You can <a class="govuk-link" href="/cookies">change your cookie settings</a> at any time.</p>
{% endset %}

<form id="analyticsCookiesForm" onsubmit="return analyticsCookiesForm(event);">
  {{ govukCookieBanner({
    ariaLabel: "Cookies on Pre Recorded Evidence Service",
    messages: [
      {
        headingText: "Cookies on Pre Recorded Evidence Service",
        html: html,
        actions: [
          {
            text: "Accept analytics cookies",
            type: "submit",
            name: "cookies[analytics]",
            value: "yes"
          },
          {
            text: "Reject analytics cookies",
            type: "submit",
            name: "cookies[analytics]",
            value: "no"
          },
          {
            text: "View cookies",
            href: "/cookies"
          }
        ]
      }
    ]
  }) }}
</form>

<form id="hideCookiesForm" onsubmit="return hideCookiesForm(event);">
  {{ govukCookieBanner({
    ariaLabel: "Cookies on Pre Recorded Evidence Service",
    messages: [
      {
        html: acceptHtml,
        actions: [
          {
            text: "Hide cookie message",
            type: "submit",
            name: "cookies[hide]",
            value: "yes"
          }
        ]
      }
    ]
  }) }}
</form>

{{ govukSkipLink({
  text: "Skip to main content",
  href: "#"
}) }}
{% endblock %}

{% block bodyEnd %}
  {# Run JavaScript at end of the <body>, to avoid blocking the initial render. #}
  {% include "webpack/js.njk" %}
{% endblock %}

{% block footer %}
  {{ govukFooter({
    meta: {
      items: [
        {
          href: '/terms-and-conditions',
          text: 'Terms and conditions',
          attributes: {
            target: "_blank"
          }
        },
        {
          href: '/accessibility-statement',
          text: 'Accessibility statement',
          attributes: {
            target: "_blank"
          }
        },
        {
          href: '/cookies',
          text: 'Cookies',
          attributes: {
            target: "_blank"
          }
        }
      ]
    }
  }) }}
{% endblock %}
